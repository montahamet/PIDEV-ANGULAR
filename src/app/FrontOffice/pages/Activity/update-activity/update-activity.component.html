<div class="container">
  <h2>Update Activity</h2>
  <form [formGroup]="activityForm" (ngSubmit)="updateActivity()">
    <div class="form-group">
      <label for="activity_name">Activity Name:</label>
      <input type="text" class="form-control" id="activity_name" formControlName="activity_name" required>
      <div *ngIf="activityForm.get('activity_name')?.hasError('required') && activityForm.get('activity_name')?.touched">
        Activity Name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description:</label>
      <textarea class="form-control" id="description" formControlName="description" required></textarea>
      <div *ngIf="activityForm.get('description')?.hasError('required') && activityForm.get('description')?.touched">
        Description is required.
      </div>
    </div>

    <div class="form-group">
      <label for="startTime">Start Time:</label>
      <input type="datetime-local" class="form-control" id="startTime" formControlName="startTime" required>
      <div *ngIf="activityForm.get('startTime')?.hasError('required') && activityForm.get('startTime')?.touched">
        Start Time is required.
      </div>
      <div *ngIf="activityForm.hasError('dateRange')">
        <div class="alert alert-danger">Start time must be before finish time.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="finishTime">Finish Time:</label>
      <input type="datetime-local" class="form-control" id="finishTime" formControlName="finishTime" required>
      <div *ngIf="activityForm.get('finishTime')?.hasError('required') && activityForm.get('finishTime')?.touched">
        Finish Time is required.
      </div>
      <div *ngIf="activityForm.hasError('dateRange')">
        <div class="alert alert-danger">Finish time must be after start time.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="event_id">Event:</label>
      <select class="form-control" id="event_id" formControlName="event_id" required>
        <option *ngFor="let event of events" [value]="event.event_id">{{ event.event_name }}</option>
      </select>
      <div *ngIf="activityForm.get('event_id')?.hasError('required') && activityForm.get('event_id')?.touched">
        Event is required.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!activityForm.valid">Update</button>
    <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
  </form>
</div>
